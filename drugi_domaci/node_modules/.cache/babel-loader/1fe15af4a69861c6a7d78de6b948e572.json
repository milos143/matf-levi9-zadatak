{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/milos/Desktop/drugi_domaci_local/src/sviProizvodi.js\";\nimport React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport './sviProizvodi.css';\nexport default class sviProizvodi extends Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteBooks = async id => {\n      const res = await fetch('/admin/proizvodi', {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: id\n        })\n      });\n      res.json().then(res_json => {\n        let rows = [];\n\n        for (const [key, value] of Object.entries(res_json)) {\n          const tmp = {\n            id: parseInt(key),\n            title: value.title,\n            author: value.author\n          };\n          rows.push(tmp);\n        }\n\n        this.setState({\n          rows: rows\n        });\n      });\n    };\n\n    this.state = {\n      rows: []\n    };\n    this.showBooks = this.showBooks.bind(this);\n  }\n\n  componentDidMount() {\n    this.showBooks();\n  }\n\n  showBooks() {\n    fetch('/admin/proizvodi').then(res => res.json()).then(res_json => {\n      let rows = [];\n\n      for (const [key, value] of Object.entries(res_json)) {\n        let tmp = {\n          id: parseInt(key),\n          title: value.title,\n          author: value.author\n        };\n        rows.push(tmp);\n      }\n\n      this.setState({\n        rows: rows\n      });\n    }).catch(err => console.error(err));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(NavLink, {\n        to: \"/\",\n        children: \" PO\\u010CETNA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n        component: Paper,\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          classtitle: 'table',\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Red.br.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Naslov\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Autor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"BRISANJE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: this.state.rows.map(red => /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: red.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: red.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: red.author\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  color: \"primary\",\n                  onClick: () => this.deleteBooks(red.id),\n                  children: \"OBRISI OVAJ PROIZVOD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 19\n              }, this)]\n            }, red.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n;","map":{"version":3,"sources":["/home/milos/Desktop/drugi_domaci_local/src/sviProizvodi.js"],"names":["React","Component","NavLink","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","sviProizvodi","constructor","props","deleteBooks","id","res","fetch","method","headers","body","JSON","stringify","json","then","res_json","rows","key","value","Object","entries","tmp","parseInt","title","author","push","setState","state","showBooks","bind","componentDidMount","catch","err","console","error","render","map","red"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport { NavLink } from 'react-router-dom'\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\n\nimport './sviProizvodi.css';\n\nexport default class sviProizvodi extends Component {\n  \n  constructor(props) {\n\n    super(props);\n\n    this.state = {\n      rows: []\n    }\n\n    this.showBooks = this.showBooks.bind(this);\n  }\n  \n  componentDidMount() {\n    this.showBooks();\n  }\n\n  showBooks() {\n    fetch('/admin/proizvodi')\n    .then((res) => res.json())\n    .then((res_json) => {\n      let rows = []\n\n      for (const [key, value] of Object.entries(res_json)) {\n        \n        let tmp = {\n          id: parseInt(key), \n          title: value.title,\n          author: value.author\n        };\n\n        rows.push(tmp)\n      }\n\n      this.setState(\n        {rows: rows}\n      )\n    })\n    .catch((err) => console.error(err));\n  }\n\n  deleteBooks = async(id) => {\n    const res = await fetch('/admin/proizvodi', {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({id: id}),\n    });\n\n    res.json()\n      .then((res_json) => {\n        let rows = []\n        for (const [key, value] of Object.entries(res_json)) {\n            \n          const tmp= {\n              id: parseInt(key),\n              title: value.title,\n              author: value.author\n            };\n            rows.push(tmp);\n        }\n\n        this.setState(\n          {rows: rows});\n    })\n  }\n\n  render() {\n    return (\n      <div>   \n                <NavLink\n            to=\"/\"> POČETNA\n        </NavLink>\n         \n        <TableContainer component={Paper}>\n          <Table classtitle={'table'}>\n            <TableHead>\n\n                <TableRow>\n                <TableCell >Red.br.</TableCell>\n                <TableCell >Naslov</TableCell>\n                <TableCell >Autor</TableCell>\n                <TableCell >BRISANJE</TableCell>\n                </TableRow>\n            \n            </TableHead>\n\n            <TableBody>\n            \n              {this.state.rows.map((red) => (\n              <TableRow key={red.id}>\n\n                  <TableCell >{red.id}</TableCell>\n                  \n                  <TableCell >{red.title}</TableCell>\n                  \n                  <TableCell >{red.author}</TableCell>\n                  \n                  <TableCell >\n                  <Button  color=\"primary\" onClick={()=>this.deleteBooks(red.id)}>OBRISI OVAJ PROIZVOD</Button>\n                  </TableCell>\n\n            </TableRow>\n              ))}\n\n            </TableBody>\n          </Table>\n        </TableContainer>\n\n        <br></br>\n\n      </div>  \n    );\n  }\n};"]},"metadata":{},"sourceType":"module"}